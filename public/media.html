<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
    />
    <title>S0LACE â€¢ Media</title>

    <link rel="shortcut icon" content="favicon.ico" />
    <link rel="stylesheet" href="index.css" />
    <script src="global-hub.js" defer></script>
  </head>

  <body>
    <header class="site-header">
      <div class="site-title">
        S0LACE
      </div>
      <nav class="site-nav">
        <a href="index.html">Home</a>
        <a href="games.html">Games</a>
        <a href="media.html" class="active">Media</a>
        <a href="apps.html">Apps</a>
        <a href="settings.html">Settings</a>
      </nav>
    </header>

    <main>
      <div class="page-header">
        <h1>Media</h1>
      </div>

      <div class="games-search-wrap">
        <span class="search-label">FIND &gt;</span>
        <input
          id="media-search"
          type="text"
          placeholder="search media..."
          autocomplete="off"
        />
      </div>

      <div class="media-grid" id="media-grid">
        <!-- data-title used for search
             data-src   is what mediaplayer.html will iframe -->
       <a
  class="media-card"
  href="#"
  data-title="Interstellar"
  data-src="https://cinemaos.live/player/157336"
>
  <div class="poster-thumb">
    <img src="thumbs/interstellar-poster.jpg" alt="" />
    <div class="media-overlay">BROKEN</div>
  </div>
</a>

        <!-- add more media-card blocks here -->
      </div>

      <div id="media-empty">No media matches that search.</div>
    </main>

    <script>
      const mediaSearch = document.getElementById("media-search");
      const mediaCards = Array.from(document.querySelectorAll(".media-card"));
      const mediaEmpty = document.getElementById("media-empty");

      function filterMedia() {
        const q = (mediaSearch.value || "").trim().toLowerCase();
        let visible = 0;

        mediaCards.forEach((card) => {
          const title = (card.dataset.title || "").toLowerCase();
          const match = !q || title.includes(q);
          card.style.display = match ? "" : "none";
          if (match) visible++;
        });

        if (mediaEmpty) {
          mediaEmpty.style.display = q && visible === 0 ? "block" : "none";
        }
      }

      if (mediaSearch) {
        mediaSearch.addEventListener("input", filterMedia);
      }

      // click -> mediaplayer.html
      mediaCards.forEach((card) => {
        card.addEventListener("click", (e) => {
          e.preventDefault();
          const src = card.dataset.src;
          const title = card.dataset.title || "Untitled";
          if (!src) return;

          const url =
            "mediaplayer.html?src=" +
            encodeURIComponent(src) +
            "&title=" +
            encodeURIComponent(title);

          window.location.href = url;
        });
      });

      document.addEventListener("DOMContentLoaded", filterMedia);
    </script>
  </body>
</html>
